# 🧪 測試執行記錄

**測試日期**: 2024-12-01  
**測試人員**: [您的名字]  
**系統版本**: MVP 0.95

---

## 測試環境

- [x] 開發伺服器運行中 (<http://localhost:3000>)
- [x] Migration 已執行
- [x] 活動編輯頁面已打開

---

## 測試 1: 資料庫驗證 ✅

### 執行驗證查詢

在 Supabase Dashboard → SQL Editor 執行：

```sql
-- 複製 supabase/verify_migration.sql 的內容
```

### 結果記錄

| 查詢 | 預期結果 | 實際結果 | 狀態 |
|------|---------|---------|------|
| 1. 新欄位檢查 | 3 行 | ___ 行 | ⬜ |
| 2. 舊欄位檢查 | 0 行 | ___ 行 | ⬜ |
| 3. 索引檢查 | 7+ 個 | ___ 個 | ⬜ |
| 4. Trigger 檢查 | 1 個 | ___ 個 | ⬜ |
| 5. 約束檢查 | 2 個 | ___ 個 | ⬜ |
| 6. 資料統計 | - | ___ | ⬜ |
| 7. 欄位註解 | 4 個 | ___ 個 | ⬜ |

**整體狀態**: ⬜ 通過 / ⬜ 失敗

---

## 測試 2: 表單功能測試

### 2.1 參與者設定 - 人數

**測試步驟**:

1. 找到「活動人數上限」區塊
2. 點擊快速選項中的「50 人」
3. 清空輸入框，輸入「32」
4. 觀察顯示

**預期結果**: 顯示「32 人」

**實際結果**: ________________

**狀態**: ⬜ 通過 / ⬜ 失敗

**截圖**: ________________

---

### 2.2 參與者設定 - 18+ 成人限定

**測試步驟**:

1. 找到「18+ 成人限定」開關
2. 點擊開啟
3. 觀察 UI 變化
4. 再次點擊關閉

**預期結果**: 開關正常切換，UI 響應正確

**實際結果**: ________________

**狀態**: ⬜ 通過 / ⬜ 失敗

---

### 2.3 邀請制活動 - 自動生成邀請碼

**測試步驟**:

1. 找到「邀請制活動」開關
2. 點擊開啟
3. 點擊「自動生成」按鈕
4. 觀察生成的邀請碼（應為 8 位）
5. 點擊「複製」按鈕
6. 貼到筆記中確認

**預期結果**: 生成 8 位隨機碼，複製功能正常

**生成的邀請碼**: ________________

**狀態**: ⬜ 通過 / ⬜ 失敗

---

### 2.4 邀請制活動 - 自定義邀請碼

**測試步驟**:

1. 清空邀請碼輸入框
2. 輸入「PARTY2024」
3. 觀察顯示

**預期結果**: 接受自定義輸入，顯示正確

**實際結果**: ________________

**狀態**: ⬜ 通過 / ⬜ 失敗

---

### 2.5 活動標籤 - 類別切換

**測試步驟**:

1. 找到「活動標籤」區塊
2. 點擊「活動類型」分類
3. 點擊「興趣主題」分類
4. 點擊「氛圍」分類
5. 點擊「特色」分類

**預期結果**: 類別切換流暢，顯示不同標籤

**實際結果**: ________________

**狀態**: ⬜ 通過 / ⬜ 失敗

---

### 2.6 活動標籤 - 選擇預設標籤

**測試步驟**:

1. 在「活動類型」中選擇「酒吧夜店」
2. 切換到「興趣主題」選擇「音樂」
3. 切換到「氛圍」選擇「派對狂歡」
4. 切換到「特色」選擇「戶外活動」
5. 觀察「已選標籤」區域

**預期結果**: 所有選擇的標籤顯示在頂部，帶紫色邊框

**選中的標籤數**: ___ 個

**狀態**: ⬜ 通過 / ⬜ 失敗

---

### 2.7 活動標籤 - 移除標籤

**測試步驟**:

1. 在「已選標籤」區域找到某個標籤
2. 點擊標籤右側的 X 圖標
3. 觀察標籤是否移除

**預期結果**: 標籤被移除，計數減少

**實際結果**: ________________

**狀態**: ⬜ 通過 / ⬜ 失敗

---

### 2.8 活動標籤 - 自定義標籤

**測試步驟**:

1. 找到「新增自定義標籤」輸入框
2. 輸入「Techno」
3. 點擊「新增」按鈕（或按 Enter）
4. 觀察標籤是否出現在「已選標籤」中

**預期結果**: 自定義標籤成功新增並顯示

**實際結果**: ________________

**狀態**: ⬜ 通過 / ⬜ 失敗

---

## 測試 3: 表單提交

### 3.1 填寫完整表單

**填寫內容**:

- 標題: 「測試活動 - 酒吧聚會」
- 描述: 「這是一個端到端測試活動」
- 類型/分類: 「Party」
- 日期: [選擇未來日期]
- 時間: [選擇時間]
- 地點名稱: 「測試酒吧」
- 地址: 「台北市大安區」
- 人數: 32
- 18+: 開啟
- 邀請制: 開啟
- 邀請碼: 「PARTY2024」
- 標籤: bar, music, party, outdoor, Techno

**狀態**: ⬜ 已填寫

---

### 3.2 提交表單

**測試步驟**:

1. 點擊「發布活動」或「儲存」按鈕
2. 觀察是否有成功訊息
3. 打開瀏覽器開發者工具（F12）→ Console
4. 檢查是否有錯誤訊息
5. 打開 Network 面板，找到 `/api/events` 請求
6. 查看 Response

**預期結果**:

- 成功訊息顯示
- Console 無錯誤
- API 返回 201 Created
- Response 包含創建的活動數據

**實際結果**: ________________

**API 返回狀態碼**: ______

**狀態**: ⬜ 通過 / ⬜ 失敗

**Console 截圖**: ________________

---

## 測試 4: 資料庫驗證

### 4.1 查看新創建的活動

**在 Supabase Dashboard → Table Editor → events**:

1. 按 `created_at` 降序排序
2. 找到最新的活動記錄

### 4.2 驗證欄位值

| 欄位 | 預期值 | 實際值 | 狀態 |
|------|-------|--------|------|
| title | "測試活動 - 酒吧聚會" | _______ | ⬜ |
| capacity_total | 32 | _______ | ⬜ |
| is_adult_only | true | _______ | ⬜ |
| invitation_only | true | _______ | ⬜ |
| invitation_code | "PARTY2024" | _______ | ⬜ |
| tags | ["bar","music","party","outdoor","Techno"] | _______ | ⬜ |
| category | "Party" | _______ | ⬜ |
| venue_name | "測試酒吧" | _______ | ⬜ |

**全部正確**: ⬜ 是 / ⬜ 否

---

## 測試 5: API 端點

### 5.1 測試 GET /api/events

**在瀏覽器訪問**:

```
http://localhost:3000/api/events?status=published
```

**預期結果**: 返回 JSON，包含剛創建的活動

**實際返回**: ⬜ 成功 / ⬜ 失敗

**活動是否出現**: ⬜ 是 / ⬜ 否

---

### 5.2 驗證新欄位在 API 響應中

**檢查 JSON 響應是否包含**:

- [ ] `is_adult_only`
- [ ] `invitation_code`
- [ ] `tags`
- [ ] `capacity_total`

**全部包含**: ⬜ 是 / ⬜ 否

---

## 測試總結

### 通過的測試

- [ ] 測試 1: 資料庫驗證
- [ ] 測試 2.1: 自定義人數
- [ ] 測試 2.2: 18+ 開關
- [ ] 測試 2.3: 自動生成邀請碼
- [ ] 測試 2.4: 自定義邀請碼
- [ ] 測試 2.5: 標籤類別切換
- [ ] 測試 2.6: 選擇預設標籤
- [ ] 測試 2.7: 移除標籤
- [ ] 測試 2.8: 自定義標籤
- [ ] 測試 3: 表單提交
- [ ] 測試 4: 資料庫驗證
- [ ] 測試 5: API 端點

### 總計

**通過**: ___/ 12  
**失敗**:___ / 12  
**整體狀態**: ⬜ 通過 / ⬜ 部分通過 / ⬜ 失敗

---

## 問題記錄

### 問題 1

**描述**: ________________  
**重現步驟**: ________________  
**預期**: ________________  
**實際**: ________________  
**嚴重程度**: ⬜ 高 / ⬜ 中 / ⬜ 低  

### 問題 2

**描述**: ________________  
**重現步驟**: ________________  
**預期**: ________________  
**實際**: ________________  
**嚴重程度**: ⬜ 高 / ⬜ 中 / ⬜ 低  

---

## 測試完成

**完成時間**: ________________  
**測試結論**: ________________  
**下一步行動**: ________________  

**簽名**: ________________
